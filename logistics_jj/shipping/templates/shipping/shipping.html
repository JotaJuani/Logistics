{% extends "main.html" %} {% load static %} {% block title %} Cotizacion de
envio {% endblock %} {% block content %}
<div class="container mt-5">
  <div class="shipping-container">
    <h1 class="text-center">Tu Cotización</h1>

    {% if cost %}
    <div class="alert alert-info text-center" role="alert">
      <p>Costo estimado de envío: <strong>${{ cost }}</strong></p>
      <p>Distancia: {{ distance_km }} km</p>
      <p>Desde: {{ direccion_partida }}</p>
      <p>Hasta: {{ direccion_llegada }}</p>
    </div>

    
    <div id="map" style="width: 100%; height: 700px"></div>
    {% else %}
    <div class="alert alert-danger text-center" role="alert">
      <p>
        No se pudieron calcular los costos. Por favor, verifica los datos
        ingresados.
      </p>
    </div>
    {% endif %}
  </div>
</div>


<script
  src="https://maps.googleapis.com/maps/api/js?key={{ GOOGLE_MAPS_API_KEY }}&callback=initMap"
  async
  defer
></script>


{% if locations %}
<script>
  const locations = {{ locations|safe }};
</script>
<script defer src="{% static 'js/custom-map.js' %}"></script>
{% else %}
<p>No hay ubicaciones disponibles para mostrar en el mapa.</p>
{% endif %} {% endblock %}
